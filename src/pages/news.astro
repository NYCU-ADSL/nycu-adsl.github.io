---
import BaseLayout from '../layouts/BaseLayout.astro';

const newsItems = [
  {
    date: "2024-12-15",
    title: "New Paper Accepted to ICML 2024",
    content: "Our research on 'Efficient Neural Architecture Search for Edge Devices' has been accepted to ICML 2024. This work presents novel techniques for automatically discovering optimal neural network architectures specifically designed for resource-constrained edge devices.",
    category: "Publication"
  },
  {
    date: "2024-11-28",
    title: "Award for Best Student Paper",
    content: "Congratulations to our PhD student John Doe for winning the best student paper award at NeurIPS 2024 with the paper 'Federated Learning with Differential Privacy: A Comprehensive Study'. This recognition highlights the excellent research conducted in our lab.",
    category: "Award"
  },
  {
    date: "2024-10-10",
    title: "New Research Grant Awarded",
    content: "We received a new NSC grant worth NT$2,500,000 for research on 'Federated Learning for Edge Computing Applications'. This three-year project will focus on developing privacy-preserving distributed learning algorithms for IoT devices.",
    category: "Funding"
  },
  {
    date: "2024-09-22",
    title: "Conference Presentation at ICCV 2024",
    content: "Our lab presented two papers at the International Conference on Computer Vision (ICCV) 2024 in Paris. The presentations covered our latest work on visual recognition and computer vision applications in autonomous systems.",
    category: "Conference"
  },
  {
    date: "2024-08-15",
    title: "New Lab Members Join ADSL",
    content: "We welcome five new graduate students and two visiting researchers to our lab this semester. The new members bring expertise in reinforcement learning, natural language processing, and distributed systems.",
    category: "Team"
  },
  {
    date: "2024-07-30",
    title: "Collaboration with Tech Industry",
    content: "ADSL has established a new research partnership with leading tech companies to work on next-generation AI acceleration hardware. The collaboration will focus on co-designing algorithms and hardware for optimal performance.",
    category: "Partnership"
  },
  {
    date: "2024-06-18",
    title: "Workshop on Edge AI Successfully Held",
    content: "Our lab organized and hosted the 'Workshop on Edge AI and Distributed Learning' at NYCU, bringing together over 100 researchers from academia and industry to discuss the latest advances in edge computing and AI.",
    category: "Event"
  },
  {
    date: "2024-05-12",
    title: "Open Source Release: DeepEdge Framework",
    content: "We released DeepEdge, an open-source framework for deploying deep learning models on edge devices. The framework has already gained 500+ stars on GitHub and is being used by researchers worldwide.",
    category: "Open Source"
  }
];

const categories = ["All", "Publication", "Award", "Funding", "Conference", "Team", "Partnership", "Event", "Open Source"];
---

<BaseLayout 
  pageTitle="News"
  description="Latest news and updates from NYCU ADSL Lab"
>
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-gray-900 mb-4">Lab News & Updates</h1>
    <p class="text-lg text-gray-600">
      Stay updated with the latest developments, achievements, and announcements from our lab.
    </p>
  </div>

  <!-- Filter Buttons -->
  <div class="mb-8">
    <div class="flex flex-wrap gap-2" role="tablist">
      {categories.map((category, index) => (
        <button 
          class={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${
            index === 0 
              ? 'bg-blue-600 text-white' 
              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
          }`}
          data-category={category.toLowerCase()}
          role="tab"
        >
          {category}
        </button>
      ))}
    </div>
  </div>

  <!-- News Grid -->
  <div class="grid gap-8">
    {newsItems.map((item) => (
      <article class="bg-white rounded-lg shadow-md border p-6 hover:shadow-lg transition-shadow" data-category={item.category.toLowerCase()}>
        <div class="flex items-start justify-between mb-4">
          <div class="flex items-center space-x-3">
            <span class={`px-3 py-1 rounded-full text-xs font-medium ${
              item.category === 'Publication' ? 'bg-blue-100 text-blue-800' :
              item.category === 'Award' ? 'bg-yellow-100 text-yellow-800' :
              item.category === 'Funding' ? 'bg-green-100 text-green-800' :
              item.category === 'Conference' ? 'bg-purple-100 text-purple-800' :
              item.category === 'Team' ? 'bg-pink-100 text-pink-800' :
              item.category === 'Partnership' ? 'bg-indigo-100 text-indigo-800' :
              item.category === 'Event' ? 'bg-orange-100 text-orange-800' :
              'bg-gray-100 text-gray-800'
            }`}>
              {item.category}
            </span>
          </div>
          <time class="text-sm text-gray-500" datetime={item.date}>
            {new Date(item.date).toLocaleDateString('en-US', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric' 
            })}
          </time>
        </div>
        
        <h2 class="text-xl font-semibold text-gray-900 mb-3">
          {item.title}
        </h2>
        
        <p class="text-gray-600 leading-relaxed">
          {item.content}
        </p>
      </article>
    ))}
  </div>

  <!-- Load More Button -->
  <div class="text-center mt-12">
    <button class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
      Load More News
    </button>
  </div>
</BaseLayout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const filterButtons = document.querySelectorAll('[data-category]');
    const newsItems = document.querySelectorAll('[data-category]');
    
    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.getAttribute('data-category');
        
        // Update button styles
        filterButtons.forEach(btn => {
          if (btn === button) {
            btn.className = 'px-4 py-2 rounded-full text-sm font-medium transition-colors bg-blue-600 text-white';
          } else {
            btn.className = 'px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200';
          }
        });
        
        // Filter news items
        newsItems.forEach(item => {
          if (item instanceof HTMLElement && item.tagName === 'ARTICLE') {
            const itemCategory = item.getAttribute('data-category');
            if (category === 'all' || itemCategory === category) {
              item.style.display = 'block';
            } else {
              item.style.display = 'none';
            }
          }
        });
      });
    });
  });
</script>